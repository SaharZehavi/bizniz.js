{"version":3,"sources":["bizniz.min.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","treatAsUTC","date","result","Date","setMinutes","getMinutes","getTimezoneOffset","determineSign","x","Object","defineProperty","value","_containedPeriodicValues","_containedPeriodicValues2","WEEKEND_DAYS","MS_PER_DAY","bizniz","dateIsBefore","startDate","endDate","getTime","daysBetween","addDays","days","setDate","getDate","isWeekDay","indexOf","getDay","isWeekendDay","weekDaysBetween","start","end","reverse","startDay","totalDays","Math","abs","containedSundays","containedSaturdays","coefficient","weekendDaysBetween","totalDaysDiff","weekDays","addWeekDays","isNaN","sign","day","absIncrement","paddedAbsIncrement","weekendsInbetween","max","floor","subtractWeekDays","global","nearestPeriodicValue","containedPeriodicValues","period","newEnd","nearest","parseInt","contained_periodic_values","point","relation","equidistant","mod","round","nearest_periodic_value"],"mappings":"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","file":"bizniz.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bizniz\"] = factory();\n\telse\n\t\troot[\"bizniz\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _containedPeriodicValues = __webpack_require__(1);\n\t\n\tvar _containedPeriodicValues2 = _interopRequireDefault(_containedPeriodicValues);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar WEEKEND_DAYS = [0, 6];\n\t// The number of milliseconds in one day\n\tvar MS_PER_DAY = 24 * 60 * 60 * 1000;\n\t\n\t// `date` - The Date to be coerced to UTC time\n\t// Returns a new `Date` object.\n\tfunction treatAsUTC(date) {\n\t  var result = new Date(date);\n\t  result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n\t  return result;\n\t}\n\t\n\t// Math.sign polyfill\n\tfunction determineSign(x) {\n\t  x = +x;\n\t  return x > 0 ? 1 : -1;\n\t}\n\t\n\tvar bizniz = {\n\t  dateIsBefore: function dateIsBefore(startDate, endDate) {\n\t    return startDate.getTime() < endDate.getTime();\n\t  },\n\t  daysBetween: function daysBetween(startDate, endDate) {\n\t    return (treatAsUTC(endDate) - treatAsUTC(startDate)) / MS_PER_DAY;\n\t  },\n\t  addDays: function addDays(date, days) {\n\t    var result = new Date(date.getTime());\n\t    result.setDate(result.getDate() + days);\n\t    return result;\n\t  },\n\t  isWeekDay: function isWeekDay(date) {\n\t    return WEEKEND_DAYS.indexOf(date.getDay()) === -1;\n\t  },\n\t  isWeekendDay: function isWeekendDay(date) {\n\t    return !this.isWeekDay(date);\n\t  },\n\t  weekDaysBetween: function weekDaysBetween(startDate, endDate) {\n\t    var start = void 0,\n\t        end = void 0;\n\t    var reverse = this.dateIsBefore(endDate, startDate);\n\t    if (reverse) {\n\t      start = endDate;\n\t      end = startDate;\n\t    } else {\n\t      start = startDate;\n\t      end = endDate;\n\t    }\n\t\n\t    var startDay = start.getDay();\n\t    var totalDays = Math.abs(this.daysBetween(start, end));\n\t    var containedSundays = (0, _containedPeriodicValues2.default)(startDay, totalDays + startDay, 0, 7);\n\t    var containedSaturdays = (0, _containedPeriodicValues2.default)(startDay, totalDays + startDay, 6, 7);\n\t    var coefficient = reverse ? -1 : 1;\n\t\n\t    return coefficient * (totalDays - (containedSaturdays + containedSundays));\n\t  },\n\t  weekendDaysBetween: function weekendDaysBetween(startDate, endDate) {\n\t    var totalDaysDiff = this.daysBetween(startDate, endDate);\n\t    var weekDays = this.weekDaysBetween(startDate, endDate);\n\t\n\t    return totalDaysDiff - weekDays;\n\t  },\n\t  addWeekDays: function addWeekDays(date, days) {\n\t    if (days === 0 || isNaN(days)) {\n\t      return new Date(date);\n\t    }\n\t\n\t    var sign = determineSign(days);\n\t    var day = date.getDay();\n\t    var absIncrement = Math.abs(days);\n\t\n\t    var days = 0;\n\t\n\t    if (day === 0 && sign === -1) {\n\t      days = 1;\n\t    } else if (day === 6 && sign === 1) {\n\t      days = 1;\n\t    }\n\t\n\t    // Add padding for weekends.\n\t    var paddedAbsIncrement = absIncrement;\n\t    if (day !== 0 && day !== 6 && sign > 0) {\n\t      paddedAbsIncrement += day;\n\t    } else if (day !== 0 && day !== 6 && sign < 0) {\n\t      paddedAbsIncrement += 6 - day;\n\t    }\n\t    var weekendsInbetween = Math.max(Math.floor(paddedAbsIncrement / 5) - 1, 0) + (paddedAbsIncrement > 5 && paddedAbsIncrement % 5 > 0 ? 1 : 0);\n\t\n\t    // Add the increment and number of weekends.\n\t    days += absIncrement + weekendsInbetween * 2;\n\t\n\t    return this.addDays(date, sign * days);\n\t  },\n\t  subtractWeekDays: function subtractWeekDays(date, days) {\n\t    return this.addWeekDays(date, -days);\n\t  }\n\t};\n\t\n\texports.default = bizniz;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function (global, factory) {\n\t   true ? module.exports = factory(__webpack_require__(2)) : typeof define === \"function\" && define.amd ? define([\"nearest-periodic-value\"], factory) : global.containedPeriodicValues = factory(global.nearestPeriodicValue);\n\t})(this, function (nearestPeriodicValue) {\n\t  \"use strict\";\n\t\n\t  function containedPeriodicValues(start, end, value, period) {\n\t    // Inclusive start; exclusive end\n\t    if (start === end) {\n\t      return 0;\n\t    }\n\t\n\t    // Flip our interval if it isn't ordered properly\n\t    if (start > end) {\n\t      var newEnd = start;\n\t      start = end;\n\t      end = newEnd;\n\t    }\n\t\n\t    // Make our interval have an exclusive end\n\t    end--;\n\t\n\t    var nearest = nearestPeriodicValue(start, value, period);\n\t\n\t    // Ensure that the nearest value is in front of the start\n\t    // of the interval\n\t    if (nearest - start < 0) {\n\t      nearest += period;\n\t    }\n\t\n\t    // If we can't even reach the first value, then it is 0\n\t    if (nearest - start > end - start) {\n\t      return 0;\n\t    }\n\t\n\t    // Otherwise, we have reached it, so we start with 1.\n\t    // Then we add one for every full period in our interval\n\t    else {\n\t      return 1 + parseInt((end - nearest) / period);\n\t    }\n\t  }\n\t\n\t  var contained_periodic_values = containedPeriodicValues;\n\t\n\t  return contained_periodic_values;\n\t});\n\t//# sourceMappingURL=./contained-periodic-values.js.map\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function (global, factory) {\n\t   true ? module.exports = factory() : typeof define === \"function\" && define.amd ? define(factory) : global.nearestPeriodicValue = factory();\n\t})(this, function () {\n\t  \"use strict\";\n\t\n\t  /*jshint -W018 */\n\t\n\t  function nearestPeriodicValue(point, value, period) {\n\t    var relation = (value - point) / period;\n\t\n\t    // We're equidistant from the nearest point if the\n\t    // distance from the point is a half-integer value\n\t    // of our period.\n\t    var equidistant = !(relation % 0.5) && relation % 1;\n\t\n\t    // If we're equidistant, then we add a period to\n\t    // ensure that we always pick the value in front\n\t    var mod = equidistant ? period : 0;\n\t\n\t    // Adjust our value by an amount given by the closest #\n\t    // of periods contained in the distance between the point\n\t    // and the value\n\t    return mod + (value - period * Math.round(relation));\n\t  }\n\t\n\t  var nearest_periodic_value = nearestPeriodicValue;\n\t\n\t  return nearest_periodic_value;\n\t});\n\t//# sourceMappingURL=./nearest-periodic-value.js.map\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=bizniz.js.map"],"sourceRoot":"/source/"}