{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e748a06b4f5ff0566f68","webpack:///./src/bizniz.js","webpack:///./~/contained-periodic-values/dist/contained-periodic-values.js","webpack:///./~/nearest-periodic-value/dist/nearest-periodic-value.js"],"names":[],"mappings":"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","file":"bizniz.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"bizniz\"] = factory();\n\telse\n\t\troot[\"bizniz\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e748a06b4f5ff0566f68\n **/","import containedPeriodicValues from 'contained-periodic-values';\n\nconst WEEKEND_DAYS = [0, 6];\n// The number of milliseconds in one day\nconst MS_PER_DAY = 24 * 60 * 60 * 1000;\n\n// `date` - The Date to be coerced to UTC time\n// Returns a new `Date` object.\nfunction treatAsUTC(date) {\n  var result = new Date(date);\n  result.setMinutes(result.getMinutes() - result.getTimezoneOffset());\n  return result;\n}\n\n// Math.sign polyfill\nfunction determineSign(x) {\n  x = +x;\n  return x > 0 ? 1 : -1;\n}\n\nconst bizniz = {\n  dateIsBefore(startDate, endDate) {\n    return startDate.getTime() < endDate.getTime();\n  },\n\n  daysBetween(startDate, endDate) {\n    return (treatAsUTC(endDate) - treatAsUTC(startDate)) / MS_PER_DAY;\n  },\n\n  addDays(date, days) {\n    var result = new Date(date.getTime());\n    result.setDate(result.getDate() + days);\n    return result;\n  },\n\n  isWeekDay(date) {\n    return WEEKEND_DAYS.indexOf(date.getDay()) === -1;\n  },\n\n  isWeekendDay(date) {\n    return !this.isWeekDay(date);\n  },\n\n  weekDaysBetween(startDate, endDate) {\n    let start, end;\n    let reverse = this.dateIsBefore(endDate, startDate);\n    if (reverse) {\n      start = endDate;\n      end = startDate;\n    } else {\n      start = startDate;\n      end = endDate;\n    }\n\n    const startDay = start.getDay();\n    const totalDays = Math.abs(this.daysBetween(start, end));\n    const containedSundays = containedPeriodicValues(startDay, totalDays + startDay, 0, 7);\n    const containedSaturdays = containedPeriodicValues(startDay, totalDays + startDay, 6, 7);\n    const coefficient = reverse ? -1 : 1;\n\n    return coefficient * (totalDays - (containedSaturdays + containedSundays));\n  },\n\n  weekendDaysBetween(startDate, endDate) {\n    const totalDaysDiff = this.daysBetween(startDate, endDate);\n    const weekDays = this.weekDaysBetween(startDate, endDate);\n\n    return totalDaysDiff - weekDays;\n  },\n\n  addWeekDays(date, days) {\n    if (days === 0 || isNaN(days)) { return new Date(date); }\n\n    var sign = determineSign(days);\n    var day = date.getDay();\n    var absIncrement = Math.abs(days);\n\n    var days = 0;\n\n    if (day === 0 && sign === -1) {\n      days = 1;\n    } else if (day === 6 && sign === 1) {\n      days = 1;\n    }\n\n    // Add padding for weekends.\n    var paddedAbsIncrement = absIncrement;\n    if (day !== 0 && day !== 6 && sign > 0) {\n      paddedAbsIncrement += day;\n    } else if (day !== 0 && day !== 6 && sign < 0) {\n      paddedAbsIncrement += 6 - day;\n    }\n    var weekendsInbetween =\n      Math.max(Math.floor(paddedAbsIncrement / 5) - 1, 0) +\n      (paddedAbsIncrement > 5 && paddedAbsIncrement % 5 > 0 ? 1 : 0);\n\n    // Add the increment and number of weekends.\n    days += absIncrement + weekendsInbetween * 2;\n\n    return this.addDays(date, sign * days);\n  },\n\n  subtractWeekDays(date, days) {\n    return this.addWeekDays(date, -days);\n  }\n};\n\nexport default bizniz;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/bizniz.js\n **/","(function (global, factory) {\n  typeof exports === \"object\" && typeof module !== \"undefined\" ? module.exports = factory(require(\"nearest-periodic-value\")) : typeof define === \"function\" && define.amd ? define([\"nearest-periodic-value\"], factory) : global.containedPeriodicValues = factory(global.nearestPeriodicValue);\n})(this, function (nearestPeriodicValue) {\n  \"use strict\";\n\n  function containedPeriodicValues(start, end, value, period) {\n    // Inclusive start; exclusive end\n    if (start === end) {\n      return 0;\n    }\n\n    // Flip our interval if it isn't ordered properly\n    if (start > end) {\n      var newEnd = start;\n      start = end;\n      end = newEnd;\n    }\n\n    // Make our interval have an exclusive end\n    end--;\n\n    var nearest = nearestPeriodicValue(start, value, period);\n\n    // Ensure that the nearest value is in front of the start\n    // of the interval\n    if (nearest - start < 0) {\n      nearest += period;\n    }\n\n    // If we can't even reach the first value, then it is 0\n    if (nearest - start > end - start) {\n      return 0;\n    }\n\n    // Otherwise, we have reached it, so we start with 1.\n    // Then we add one for every full period in our interval\n    else {\n      return 1 + parseInt((end - nearest) / period);\n    }\n  }\n\n  var contained_periodic_values = containedPeriodicValues;\n\n  return contained_periodic_values;\n});\n//# sourceMappingURL=./contained-periodic-values.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/contained-periodic-values/dist/contained-periodic-values.js\n ** module id = 1\n ** module chunks = 0\n **/","(function (global, factory) {\n  typeof exports === \"object\" && typeof module !== \"undefined\" ? module.exports = factory() : typeof define === \"function\" && define.amd ? define(factory) : global.nearestPeriodicValue = factory();\n})(this, function () {\n  \"use strict\";\n\n  /*jshint -W018 */\n\n  function nearestPeriodicValue(point, value, period) {\n    var relation = (value - point) / period;\n\n    // We're equidistant from the nearest point if the\n    // distance from the point is a half-integer value\n    // of our period.\n    var equidistant = !(relation % 0.5) && relation % 1;\n\n    // If we're equidistant, then we add a period to\n    // ensure that we always pick the value in front\n    var mod = equidistant ? period : 0;\n\n    // Adjust our value by an amount given by the closest #\n    // of periods contained in the distance between the point\n    // and the value\n    return mod + (value - period * Math.round(relation));\n  }\n\n  var nearest_periodic_value = nearestPeriodicValue;\n\n  return nearest_periodic_value;\n});\n//# sourceMappingURL=./nearest-periodic-value.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/nearest-periodic-value/dist/nearest-periodic-value.js\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}